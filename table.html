<<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="css/table.css">
</head>
<body>
<div class="container">
  <p>Still working on this.<br>
  Might take a bit to get it right.</p>
  <p>Notice that the tabletop element can define the amount of rotation to put on itself using data- attributes. This effect will not work in codepen's iframe on an ios device (because of how they decide what the document of the page is), but it should work just fine when put into a regular website. The effect uses Transform and rotate3d to rotate the table as it is scrolled by. Put as many tabletops in the document as you like. Each should work independently.</p>
  <p>This first example has a very quick example of a shadow possibility. I think the effect works better without them though, as the elements float slightly above the edge of the tabletop and so look like they are in the middle of the table.</p>
</div>

<div class="hero-section">
<div class="tabletop" data-rotatestart="60" data-rotateend="100">
  <img src="http://www.hamiltondraws.com/images/desktop.jpg" class="tabletexture">
  <img src="http://www.hamiltondraws.com/images/desktop.jpg" class="tabletextureside">
  <div class="device ipad">
    <img src="http://www.hamiltondraws.com/images/ipad.png">
  </div>
  <div class="shadow"></div>
  <div class="device iphone">
    <img src="http://www.hamiltondraws.com/images/iphone.png">
  </div>
  <div class="shadow"></div>
</div>
</div>

<div class="container">
<p>Notice that if you keep it simple, the effect works really well. Don't overdue it, and your audience might not even realize how awesome it is.</p>
</div>
 
<div class="tabletop second" data-rotatestart="30" data-rotateend="110">
  <img src="http://www.hamiltondraws.com/images/desktop.jpg" class="tabletexture">
  <img src="http://www.hamiltondraws.com/images/desktop.jpg" class="tabletextureside">
  <div class="device ipad">
    <img src="http://www.hamiltondraws.com/images/ipad.png">
  </div>
  <div class="device iphone">
    <img src="http://www.hamiltondraws.com/images/iphone.png">
  </div>
</div>
  


<div class="container">
<p>Quibusdam iste, quasi, neque tenetur ratione sunt ab sint numquam recusandae perferendis molestias, voluptas magni vel qui iure laudantium architecto dolorem reprehenderit quaerat. Officiis porro accusantium laudantium debitis! Recusandae similique doloribus, deleniti est quis reiciendis iusto facilis. Dicta molestias et esse totam, quod accusamus iste perspiciatis architecto quo unde voluptatum.</p>
<p>Quis impedit asperiores laboriosam, ad aperiam eos officiis repellat adipisci maiores earum blanditiis hic rem eius, praesentium provident possimus facilis, quaerat vel placeat, unde non et! Accusamus sapiente aliquid asperiores doloremque consectetur, doloribus culpa laboriosam, et saepe, nostrum ad unde alias nulla sequi dolore! Praesentium sed excepturi tempora asperiores recusandae.</p>
<p>Odio officia suscipit veniam, fugiat ut culpa sit dolorem non. Aliquid reprehenderit voluptates non dolorum nemo magnam quos voluptatum quidem cum totam deserunt dignissimos quas modi, maxime! Minus quod quae odit asperiores minima veritatis. Recusandae quasi laudantium numquam, doloremque pariatur assumenda culpa enim laboriosam quisquam fugiat ratione aperiam, labore a!</p>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Non veniam, eaque pariatur veritatis dolorum dolores labore hic ut animi quisquam totam nihil voluptates sequi at officia, tenetur minus saepe, excepturi, vitae quos delectus! Ea recusandae hic sunt labore culpa aperiam cumque quam, voluptate! Ut sint explicabo ipsa. Minima doloremque omnis quo hic enim vitae praesentium distinctio, illo adipisci aperiam assumenda, dolorem incidunt alias sapiente molestiae, eaque rem sunt sed veritatis quis fugiat modi reiciendis repudiandae. Animi, consectetur eius est commodi.</p>
  <p>Vitae sit temporibus sunt voluptate dolor totam vero nemo esse cumque corporis eos quod, omnis facere nobis labore cupiditate natus assumenda velit et, laboriosam ipsam! Quidem, dicta. Possimus dolorum, soluta facere iusto nisi amet dignissimos rerum deserunt, ipsa autem quisquam rem! Illum, atque unde aut nisi maxime suscipit minus eaque. Sapiente dolorum voluptatum esse voluptates dicta nulla tenetur quos porro eligendi voluptate eaque labore vero, doloremque eius culpa minus natus omnis, asperiores inventore quod? Minus nam, ut tempore asperiores nobis!</p>
  <p>Laudantium aut provident cum reiciendis laboriosam repudiandae ducimus asperiores dolor voluptatem doloremque inventore sed voluptatibus excepturi iusto, obcaecati voluptates dignissimos repellendus quae molestiae ratione dolores nisi error impedit! Omnis, similique unde dolorem delectus placeat animi dolorum recusandae possimus quam laboriosam? Natus fugiat deserunt harum laboriosam odit, enim minima. Quis vel facilis maiores, rem quaerat. Quo aspernatur magnam officia dignissimos harum voluptatibus voluptatem inventore officiis fugiat praesentium libero accusantium reiciendis aut rem explicabo, sit perferendis est consequatur optio rerum vero et.</p>
  <p>Nulla culpa dolore reprehenderit esse, expedita, id ad sequi. Dolor asperiores omnis perspiciatis nostrum ipsa possimus tempore et magni, beatae pariatur, voluptatum veritatis suscipit ad quidem minima esse magnam doloremque! Porro eveniet dolore commodi ad nisi, distinctio, corrupti fuga officiis libero. Quaerat, repudiandae, eos. Quos fugit distinctio ratione ex dolore ullam deleniti modi unde hic saepe, sunt, vero possimus eaque autem at reiciendis obcaecati minima doloremque. Aut corrupti maxime at eligendi, quisquam sit dolor excepturi non ullam, incidunt, quasi eos.</p>
  <p>Voluptas numquam labore accusamus aut natus enim dignissimos sit libero, totam quibusdam. Dolorem ullam nemo in inventore, laboriosam esse nihil velit explicabo non omnis odit recusandae nisi temporibus ea consequatur incidunt voluptatum sed, quibusdam aperiam ipsa. At, ducimus? Iste nesciunt quae officiis sit ratione deleniti nam, tempora aliquid voluptas, harum odit sunt cum quia magnam minus quidem hic, ab neque! Totam eaque illum perspiciatis ea, perferendis sapiente beatae mollitia fugit at, vel minima illo, aliquid facere nostrum quae delectus itaque!</p>
</div>



</body>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script type="text/javascript">
	$(function(){
  
  // This part will get the initial rotate value for each tabletop and set it on pageload
  $(".tabletop").each(function(){
    $(this).find(".tabletexture,.device+.shadow").css({
      "-webkit-transform":"rotate3d(1,0,0,"+$(this).data("rotatestart")+"deg)",
      transform:"rotate3d(1,0,0,"+$(this).data("rotatestart")+"deg)"
    });
  });

  $(document).on("scroll touchmove",function(e){
    var top = document.body.scrollTop;
    var tabletop,scrollstart,scrollend;

    $(".tabletop").each(function(){
      scrollstart = $(this).offset().top;
      scrollend = scrollstart+$(this).height();
      if(top>scrollstart && top<scrollend) {
        tabletop = this;

        var rotatestart = +$(tabletop).data("rotatestart");
        var rotateend = +$(tabletop).data("rotateend");
        var rotatedistance = rotateend - rotatestart;

        var distance = 
            (document.body.scrollTop-scrollstart) / 
            (scrollend-scrollstart);

        var desktopdistance = distance*rotatedistance+rotatestart;
        
        console.log(rotatestart,rotateend,rotatedistance,desktopdistance)

        $(tabletop).find(".tabletexture,.device+.shadow").css({
          "-webkit-transform":"rotate3d(1,0,0,"+desktopdistance+"deg)",
          transform:"rotate3d(1,0,0,"+desktopdistance+"deg)"
        })
      }
    });

  });
  
});
</script>
</html>